<Window x:Class="ProdLogApp.Views.OperadorMenu"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ProdLogApp.Views"
        mc:Ignorable="d"
        Title="Menu - Producciones"
        Height="746"
        Width="1080"
        WindowStartupLocation="CenterScreen"
        Background="#0864AC"
        ResizeMode="NoResize">

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Views/Designs/Style.xaml"/>
            </ResourceDictionary.MergedDictionaries>

            <Style x:Key="ShadowBorderStyle" TargetType="Border">
                <Setter Property="Effect">
                    <Setter.Value>
                        <DropShadowEffect Color="Black"
                                          BlurRadius="10"
                                          ShadowDepth="2"
                                          Opacity="0.2"/>
                    </Setter.Value>
                </Setter>
                <Setter Property="CornerRadius" Value="10"/>
            </Style>
        </ResourceDictionary>
    </Window.Resources>

    <Grid HorizontalAlignment="Center"
          Width="1080"
          Height="712"
          VerticalAlignment="Top">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="3*"/>
            <ColumnDefinition Width="2*"/>
        </Grid.ColumnDefinitions>

        <!-- Panel izquierdo: lista -->
        <Border Background="#E6F0FA"
                Style="{StaticResource ShadowBorderStyle}"
                Padding="30"
                Margin="16,10,356,0"
                VerticalAlignment="Top"
                Height="625" Grid.ColumnSpan="2">
            <DockPanel LastChildFill="True">

                <!-- Encabezado -->
                <Grid DockPanel.Dock="Top">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0"
                               Text="Producciones de hoy"
                               FontWeight="Bold"
                               FontSize="16"
                               Margin="0,0,12,12"/>
                    <TextBlock Grid.Column="1"
                               x:Name="txtFechaHoy"
                               Foreground="#555"
                               Margin="0,0,0,12"
                               HorizontalAlignment="Right"/>
                </Grid>

                <!-- Lista de producciones -->
                <ListView x:Name="Productions_list"
                          Height="526"
                          VerticalAlignment="Top"
                          SelectionMode="Single"
                          FontSize="20">
                    <ListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <EventSetter Event="MouseDoubleClick" Handler="ListViewItem_MouseDoubleClick"/>
                        </Style>
                    </ListView.ItemContainerStyle>

                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="Producto"
                                            DisplayMemberBinding="{Binding ProductoNombre}"
                                            Width="220"/>
                            <GridViewColumn Header="Cantidad"
                                            DisplayMemberBinding="{Binding Cantidad}"
                                            Width="120"/>
                            <GridViewColumn Header="Puesto"
                                            DisplayMemberBinding="{Binding PuestoNombre}"
                                            Width="200"/>
                            <GridViewColumn Header="⏰ Hora Inicio"
                                            DisplayMemberBinding="{Binding HoraInicio, StringFormat={}{0:hh\\:mm}}"
                                            Width="120"/>
                            <GridViewColumn Header="⏳ Hora Fin"
                                            DisplayMemberBinding="{Binding HoraFin, StringFormat={}{0:hh\\:mm}}"
                                            Width="120"/>
                        </GridView>
                    </ListView.View>
                </ListView>
                <!-- 👆👆 IMPORTANTE: este </ListView> faltaba -->
            </DockPanel>
        </Border>

        <!-- Botones CRUD -->
        <StackPanel Grid.Column="1"
                    VerticalAlignment="Top"
                    Margin="56,81,-36,0"
                    Height="402">
            <Button x:Name="btnAdd"
                    Style="{StaticResource ModernButtonStyle}"
                    Content="Agregar"
                    Margin="0,5,0,50"
                    Height="50"
                    Width="250"
                    Click="Add_Click"/>
            <Button x:Name="btnDelete"
                    Style="{StaticResource ModernButtonStyle}"
                    Content="Eliminar"
                    Margin="0,5,0,50"
                    Height="50"
                    Width="250"
                    Click="Delete_Click"/>
            <Button x:Name="btnModify"
                    Style="{StaticResource ModernButtonStyle}"
                    Content="Modificar"
                    Margin="0,5,0,50"
                    Height="50"
                    Width="250"
                    Click="Modify_Click"/>
            <Button x:Name="btnConfirm"
                    Style="{StaticResource ConfirmButtonStyle}"
                    Content="Confirmar"
                    Click="Confirm_Click"/>
        </StackPanel>

        <!-- (Hueco para layout) -->
        <StackPanel Grid.Column="1"
                    VerticalAlignment="Top"
                    Orientation="Horizontal"
                    HorizontalAlignment="Center"
                    Margin="0,396,0,0"
                    RenderTransformOrigin="0.48,-2.151">
        </StackPanel>

        <!-- Desconectar -->
        <Button x:Name="btnDisconnect"
                Style="{StaticResource CancelButtonStyle}"
                Content="Desconectar"
                Height="50"
                Width="250"
                Click="Disconnect_Click"
                HorizontalAlignment="Left"
                Margin="16,652,0,10"/>
    </Grid>
</Window>
